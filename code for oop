import java.util.*;

public class Main{
    public static void main(String[] args){
        Scanner scan = new Scanner(System.in);
        Category cat = new Category(scan);
 
        String a = "null";
        
        while(!a.equals("0")){
        System.out.println("\n=== Giorno's Deli & Dreams (Console) ===");
        System.out.println("1. Browse menu");
        System.out.println("2. View receipt");
        System.out.println("3. Confirm payment");
        System.out.println("4. Clear order");
        System.out.println("5. Exit");
        System.out.print("Choose an option: ");
        String option = scan.nextLine();
        
            switch(option){
                case "1":
                    cat.display();
                    break;
            
                case "2":
                    Receipt.viewReceipt(scan);
                    break;
                    
                case "3":
                    ConfirmPayment.confirm(scan);
                    break;
                    
                case "4":
                    ClearReceipt.clearingReceipt();
                    break;
            }
        if (option.equals("5")){
            System.out.println("Exiting....");
            break;
        }    
            scan.nextLine();
        }
    }
    
    private String name;
    private double price;
    
    public void setName(String name){
        this.name = name;
    }
    
    public void setPrice(double price){
        this.price = price;
    }
    
    public String getName(String name){
        return name;
    }
    
    public double getPrice(double price){
        return price;
    }
}

class Category{
    private Scanner scan;
    
    public Category(Scanner scan){
        this.scan = scan;
    }
    public void display(){
        
        System.out.println("\n--- Categories ---");
        System.out.println("1. Dishes");
        System.out.println("2. Dessert");
        System.out.println("3. Drinks");
        System.out.print("Select a category :) : ");
        
        switch(scan.nextLine()){
            case "1":
                Dishes.dishDisplay(scan);
                break;
            case "2":
                Dessert.dessertDisplay(scan);
                break;
            case "3":
                Drinks.drinksDisplay(scan);
                break;
            default :
                System.out.println("Invalid Choice");
                break;
        }
    }
}



class Dishes{
    public static void dishDisplay(Scanner scan){
        System.out.println("\n---Dishes---");
        System.out.println("1. Trattoria Risotto, 240.00, Dishes");
        System.out.println("2. Requiem Pasta, 210.00, Dishes");
        System.out.println("3. Golden Caprese, 180.00, Dishes");
        System.out.print("Pick your choice: ");
        String choice = scan.nextLine();
        System.out.print("Enter the amount you want: ");
        int amount = scan.nextInt();
        
        String itemName = "";
        double price = 0;
        
        switch (choice){
            case "1":
                itemName = "Trattoria Risotto, Dishes";
                price = 240.00;
                break;
            case "2":
                itemName = "Requiem Pasta, Dishes";
                price = 210.00;
                break;
            case "3":
                itemName = "Golden Caprese, Dishes";
                price = 180.00;
                break;
            default:
                System.out.println("Invalid choice.");
                break;
        }
        Receipt.addToReceipt(itemName, price, amount);
        System.out.println("You added " + amount + " " + itemName + " to your order!");
    }
}

class Dessert{
    public static void dessertDisplay(Scanner scan){
        System.out.println("\n---Desserts---");
        System.out.println("1. Panna Cotta Giorno, 120.00, Desserts");
        System.out.println("2. Amaretto Drea, 115.00, Desserts");
        System.out.println("3. Passione Gelato, 130.00, Desserts");
        System.out.print("Pick you choice: ");
        String choice = scan.nextLine();
        System.out.print("Enter the amount you want: ");
        int amount = scan.nextInt();
        
        String itemName = "";
        double price = 0;
        
        switch (choice){
            case "1":
                itemName = "Panna Cotta Giorno, Desserts";
                price = 120.00;
                break;
            case "2":
                itemName = "Amaretto Drea, Desserts";
                price = 115.00;
                break;
            case "3":
                itemName = "Passione Gelato, Desserts";
                price = 130.00;
                break;
            default:
                System.out.println("Invalid choice.");
                break;
        }
        
        Receipt.addToReceipt(itemName, price, amount);
        System.out.println("You added " + amount + " " + itemName + " to your order!");
    }
}    

class Drinks{
    public static void drinksDisplay(Scanner scan){
        System.out.println("\n---Drinks---");
        System.out.println("1. Lavender Latte, 90.00, Drinks");
        System.out.println("2. Rose Quartz Fizz, 110.00, Drinks");
        System.out.println("3. Grape Stand Spritz, 105.00, Drinks");
        System.out.print("Pick your choice: ");
        String choice = scan.nextLine();
        System.out.print("Enter the ammount you want: ");
        int amount = scan.nextInt();
        
        String itemName = "";
        double price = 0;
          
        switch(choice){
            case "1":
                itemName = "Lavender Latte, Drinks";
                price = 90.00;
                break;
            
            case "2":
                itemName = "Rose Quartz Fizz, Drinks";
                price = 110.00;
                break;
                
            case "3":
                itemName = "Grape Stand Spritz, Drinks";
                price = 105.00;
                break;
            default:
                System.out.println("Invalid Choice");
                break;
        }
        
        Receipt.addToReceipt(itemName, price, amount);
        System.out.println("You added " + amount + " " + itemName + " to your order!");
    }
}

class Receipt{
    private static String receiptText = "";
    private static double Total = 0;
    public static boolean isEmpty() {
        return receiptText.equals("");
    }
    
    public static void addToReceipt(String itemName, double price, int amount){
        double subTotal = price * amount;
        receiptText += itemName + " x" + amount + " - P" + subTotal + "\n";
        Total += subTotal;
        
    }
    
    public static void viewReceipt(Scanner scan){
        if (receiptText.equals("")){
            System.out.println("Your receipt is empty..");
            return;
            
        }
        
        System.out.println("\n===Receipt===");
        System.out.println(receiptText);
        System.out.println("-------------");
        System.out.println("Total: P" + Total);
        
    
        System.out.print("Confirm Payment(y/n): ");
        String payment = scan.next();
        
        
        if (payment.equalsIgnoreCase("y")){
            System.out.println("Thank you for confirming the food will arrive to you soon!");
            clearReceipt();
            return;
        }
        else if (payment.equalsIgnoreCase("n")){
            System.out.println("Payment cancelled. Returning to receipt menu...");
            return;
        }
    }
    
    public static void clearReceipt(){
        receiptText = "";
        Total = 0;
        System.out.println("Receipt cleared.");
    }
}

class ConfirmPayment{
    
    public static void confirm(Scanner scan){
        if (Receipt.isEmpty()) {
            System.out.println("Your receipt is empty. Nothing to confirm.");
            return;
        }
        Receipt.viewReceipt(scan);
    }
}

class ClearReceipt{
    public static void clearingReceipt(){
        Receipt.clearReceipt();
    }
}


